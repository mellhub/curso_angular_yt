{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Cursos\\\\Youtube\\\\CursoAngular13Introducao-01-2022\\\\moments\\\\moments\\\\curso_angular_yt\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\niimport;\n{\n  Component, OnInit;\n}\nfrom;\n'@angular/core';\nlet EditMomentComponent = class EditMomentComponent {\n  constructor(momentService, route, router, messagesService) {\n    this.momentService = momentService;\n    this.route = route;\n    this.router = router;\n    this.messagesService = messagesService;\n    this.btnText = 'Editar';\n  }\n\n  ngOnInit() {\n    const id = Number(this.route.snapshot.paramMap.get('id'));\n    this.momentService.getMoment(id).subscribe(item => {\n      this.moment = item.data;\n    });\n  }\n\n  editHandler(momentData) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const id = _this.moment.id;\n      const formData = new FormData();\n      formData.append('title', momentData.title);\n      formData.append('description', momentData.description);\n\n      if (momentData.image) {\n        formData.append('image', momentData.image);\n      }\n\n      yield _this.momentService.updateMoment(id, formData).subscribe();\n\n      _this.messagesService.add(`Momento ${id} atualizado com sucesso!`);\n\n      _this.router.navigate(['/']);\n    })();\n  }\n\n};\nEditMomentComponent = __decorate([Component({\n  selector: 'app-edit-moment',\n  templateUrl: './edit-moment.component.html',\n  styleUrls: ['./edit-moment.component.css']\n})], EditMomentComponent);\nexport { EditMomentComponent };","map":{"version":3,"sources":["C:/Cursos/Youtube/CursoAngular13Introducao-01-2022/moments/moments/curso_angular_yt/src/app/components/pages/edit-moment/edit-moment.component.ts"],"names":["__decorate","iimport","Component","OnInit","from","EditMomentComponent","constructor","momentService","route","router","messagesService","btnText","ngOnInit","id","Number","snapshot","paramMap","get","getMoment","subscribe","item","moment","data","editHandler","momentData","formData","FormData","append","title","description","image","updateMoment","add","navigate","selector","templateUrl","styleUrls"],"mappings":";AAAA,SAASA,UAAT,QAA2B,OAA3B;AACAC,OAAO;AACP;AACIC,EAAAA,SAAS,EAAEC,MAAX;AACH;AACDC,IAAI;AACJ;AACA,IAAIC,mBAAmB,GAAG,MAAMA,mBAAN,CAA0B;AAChDC,EAAAA,WAAW,CAACC,aAAD,EAAgBC,KAAhB,EAAuBC,MAAvB,EAA+BC,eAA/B,EAAgD;AACvD,SAAKH,aAAL,GAAqBA,aAArB;AACA,SAAKC,KAAL,GAAaA,KAAb;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,eAAL,GAAuBA,eAAvB;AACA,SAAKC,OAAL,GAAe,QAAf;AACH;;AACDC,EAAAA,QAAQ,GAAG;AACP,UAAMC,EAAE,GAAGC,MAAM,CAAC,KAAKN,KAAL,CAAWO,QAAX,CAAoBC,QAApB,CAA6BC,GAA7B,CAAiC,IAAjC,CAAD,CAAjB;AACA,SAAKV,aAAL,CAAmBW,SAAnB,CAA6BL,EAA7B,EAAiCM,SAAjC,CAA4CC,IAAD,IAAU;AACjD,WAAKC,MAAL,GAAcD,IAAI,CAACE,IAAnB;AACH,KAFD;AAGH;;AACKC,EAAAA,WAAW,CAACC,UAAD,EAAa;AAAA;;AAAA;AAC1B,YAAMX,EAAE,GAAG,KAAI,CAACQ,MAAL,CAAYR,EAAvB;AACA,YAAMY,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBH,UAAU,CAACI,KAApC;AACAH,MAAAA,QAAQ,CAACE,MAAT,CAAgB,aAAhB,EAA+BH,UAAU,CAACK,WAA1C;;AACA,UAAIL,UAAU,CAACM,KAAf,EAAsB;AAClBL,QAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBH,UAAU,CAACM,KAApC;AACH;;AACD,YAAM,KAAI,CAACvB,aAAL,CAAmBwB,YAAnB,CAAgClB,EAAhC,EAAoCY,QAApC,EAA8CN,SAA9C,EAAN;;AACA,MAAA,KAAI,CAACT,eAAL,CAAqBsB,GAArB,CAA0B,WAAUnB,EAAG,0BAAvC;;AACA,MAAA,KAAI,CAACJ,MAAL,CAAYwB,QAAZ,CAAqB,CAAC,GAAD,CAArB;AAV0B;AAW7B;;AAzB+C,CAApD;AA2BA5B,mBAAmB,GAAGL,UAAU,CAAC,CAC7BE,SAAS,CAAC;AACNgC,EAAAA,QAAQ,EAAE,iBADJ;AAENC,EAAAA,WAAW,EAAE,8BAFP;AAGNC,EAAAA,SAAS,EAAE,CAAC,6BAAD;AAHL,CAAD,CADoB,CAAD,EAM7B/B,mBAN6B,CAAhC;AAOA,SAASA,mBAAT","sourcesContent":["import { __decorate } from \"tslib\";\r\niimport;\r\n{\r\n    Component, OnInit;\r\n}\r\nfrom;\r\n'@angular/core';\r\nlet EditMomentComponent = class EditMomentComponent {\r\n    constructor(momentService, route, router, messagesService) {\r\n        this.momentService = momentService;\r\n        this.route = route;\r\n        this.router = router;\r\n        this.messagesService = messagesService;\r\n        this.btnText = 'Editar';\r\n    }\r\n    ngOnInit() {\r\n        const id = Number(this.route.snapshot.paramMap.get('id'));\r\n        this.momentService.getMoment(id).subscribe((item) => {\r\n            this.moment = item.data;\r\n        });\r\n    }\r\n    async editHandler(momentData) {\r\n        const id = this.moment.id;\r\n        const formData = new FormData();\r\n        formData.append('title', momentData.title);\r\n        formData.append('description', momentData.description);\r\n        if (momentData.image) {\r\n            formData.append('image', momentData.image);\r\n        }\r\n        await this.momentService.updateMoment(id, formData).subscribe();\r\n        this.messagesService.add(`Momento ${id} atualizado com sucesso!`);\r\n        this.router.navigate(['/']);\r\n    }\r\n};\r\nEditMomentComponent = __decorate([\r\n    Component({\r\n        selector: 'app-edit-moment',\r\n        templateUrl: './edit-moment.component.html',\r\n        styleUrls: ['./edit-moment.component.css'],\r\n    })\r\n], EditMomentComponent);\r\nexport { EditMomentComponent };\r\n"]},"metadata":{},"sourceType":"module"}